<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026학년도 고입 전형 교원용 가이드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #F8F7F4; /* Soft Beige */
        }
        .nav-button {
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
        }
        .nav-button.active {
            border-bottom-color: #4A5568; /* Slate 700 */
            color: #1A202C; /* Slate 900 */
        }
        .nav-button:hover {
            background-color: #E2E8F0; /* Slate 200 */
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        .step-item.active {
            background-color: #E2E8F0; /* Slate 200 */
            border-left-color: #4A5568; /* Slate 700 */
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .tab-button.active {
            background-color: #4A5568; /* Slate 700 */
            color: white;
        }
        .btn-container {
            padding: 1rem;
            background-color: #F8F7F4;
            text-align: center;
        }
        .nav-button-top {
            display: inline-block;
            padding: 10px 20px;
            font-size: 16px;
            color: white;
            background-color: #4A5568; /* Slate 700 */
            border: none;
            border-radius: 5px;
            text-align: center;
            text-decoration: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .nav-button-top:hover, .nav-button-top:focus {
            background-color: #2D3748; /* Slate 800 */
            outline: 2px solid #2D3748;
        }
        /* Side Nav */
        #side-nav a {
            display: block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #CBD5E1; /* slate-300 */
            transition: all 0.3s ease;
            position: relative;
        }
        #side-nav a.active {
            background-color: #4A5568; /* slate-700 */
            transform: scale(1.2);
        }
        #side-nav a::after {
            content: attr(data-tooltip);
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background-color: #4A5568;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        #side-nav a:hover::after {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Floating Action Buttons -->
    <div class="fixed bottom-4 right-4 z-20 flex flex-col space-y-2">
        <button id="fullscreen-btn" class="bg-slate-700 text-white w-12 h-12 rounded-full shadow-lg flex items-center justify-center hover:bg-slate-800 transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-5h-4m0 0v4m0-4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5h-4m0 0v-4m0 4l-5-5" /></svg>
        </button>
    </div>

    <!-- Side Navigation -->
    <nav id="side-nav" class="fixed left-4 top-1/2 -translate-y-1/2 z-20 hidden md:block">
        <ul class="space-y-2">
            <!-- Links are generated by JS -->
        </ul>
    </nav>

    <div class="btn-container">
        <a href="index.html" class="nav-button-top" role="button">메인으로 돌아가기</a>
    </div>

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-8 reveal">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">2026학년도 고입 전형</h1>
            <p class="text-lg text-gray-600 mt-2">교원용 핵심 가이드</p>
        </header>

        <nav id="main-nav" class="flex flex-wrap justify-center border-b-2 border-gray-300 mb-8 sticky top-0 bg-white/80 backdrop-blur-sm z-10">
            <button data-target="changes" class="nav-button active text-sm md:text-base font-semibold text-gray-600 py-3 px-2 md:px-6">핵심 변경사항</button>
            <button data-target="process" class="nav-button text-sm md:text-base font-semibold text-gray-600 py-3 px-2 md:px-6">성적 산출 절차</button>
            <button data-target="application" class="nav-button text-sm md:text-base font-semibold text-gray-600 py-3 px-2 md:px-6">원서 작성 가이드</button>
            <button data-target="schedule" class="nav-button text-sm md:text-base font-semibold text-gray-600 py-3 px-2 md:px-6">주요 일정</button>
            <button data-target="faq" class="nav-button text-sm md:text-base font-semibold text-gray-600 py-3 px-2 md:px-6">주의사항/FAQ</button>
        </nav>

        <main id="main-content">
            <section id="changes" class="content-section active">
                <div class="bg-white p-6 rounded-lg shadow-md reveal">
                    <h2 class="text-2xl font-bold mb-1 text-gray-900">2026학년도 주요 변경사항</h2>
                    <p class="text-gray-600 mb-6">학생 및 학부모 상담 시 반드시 숙지해야 할 핵심 내용입니다.</p>
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="border-l-4 border-red-500 bg-red-50 p-4 rounded-r-lg reveal">
                            <h3 class="font-bold text-lg text-red-800">출결평가 전학년 반영 ⭐</h3>
                            <p class="text-red-700 mt-1">1, 2, 3학년 전체 미인정 결석, 지각, 조퇴, 결과가 점수에 반영됩니다. 1학년 때부터 성실한 학교생활이 중요함을 강조해야 합니다.</p>
                        </div>
                        <div class="border-l-4 border-blue-500 bg-blue-50 p-4 rounded-r-lg reveal">
                            <h3 class="font-bold text-lg text-blue-800">대광고, 일반고 전환</h3>
                            <p class="text-blue-700 mt-1">자사고였던 대광고가 교육감 선발 후기고(일반고)로 전환되어 후기 원서 작성 시 지원 가능합니다.</p>
                        </div>
                        <div class="border-l-4 border-green-500 bg-green-50 p-4 rounded-r-lg reveal">
                            <h3 class="font-bold text-lg text-green-800">봉사활동 만점 처리 (특성화고)</h3>
                            <p class="text-green-700 mt-1">특성화고 지원 시, 봉사활동 시수와 관계없이 만점 처리됩니다. (단, 서일문화예술고는 제외)</p>
                        </div>
                        <div class="border-l-4 border-yellow-500 bg-yellow-50 p-4 rounded-r-lg reveal">
                            <h3 class="font-bold text-lg text-yellow-800">학생부 자료 온라인 제출</h3>
                            <p class="text-yellow-700 mt-1">서울 소재 중학교의 특성화고 일반전형 지원자는 나이스로만 제출하며, 별도 학생부 출력물을 제출하지 않습니다.</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md mt-8 reveal">
                    <h2 class="text-2xl font-bold mb-1 text-gray-900">고입 전형 점수 구조 (100점)</h2>
                    <p class="text-gray-600 mb-6">학생의 내신 성적은 교과 점수와 출결 점수를 합산하여 산출됩니다.</p>
                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div class="reveal"><div class="chart-container"><canvas id="scoreChart"></canvas></div></div>
                        <div class="reveal"><div id="score-simulator" class="bg-gray-50 p-6 rounded-lg border"><h3 class="font-bold text-lg mb-4 text-center">내신 점수 시뮬레이터</h3><div class="mb-4"><label for="total-subjects" class="block text-sm font-medium text-gray-700">2-3학년 총 이수 과목 수</label><input type="number" id="total-subjects" value="42" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2"></div><div class="mb-4"><label for="lowest-subjects" class="block text-sm font-medium text-gray-700">최하위 성취도(E/C) 과목 수</label><input type="number" id="lowest-subjects" value="5" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2"></div><div class="mb-4"><label for="absence-days" class="block text-sm font-medium text-gray-700">1-3학년 미인정 결석일수 (환산)</label><input type="number" id="absence-days" value="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2"></div><div class="mt-6 text-center bg-white p-4 rounded-lg border-t-4 border-gray-700"><p class="text-sm text-gray-600">예상 총점</p><p id="result-score" class="text-3xl font-bold text-gray-900">93.524 점</p><p class="text-xs text-gray-500 mt-1">(교과 <span id="result-subject-score">74.286</span> + 출결 <span id="result-attendance-score">19.4</span>)</p></div></div></div>
                    </div>
                </div>
            </section>

            <section id="process" class="content-section">
                <div class="bg-white p-6 rounded-lg shadow-md reveal">
                    <h2 class="text-2xl font-bold mb-1 text-gray-900">나이스(NEIS) 성적 산출 절차</h2>
                    <p class="text-gray-600 mb-6">성적 산출부터 확정까지의 업무 흐름입니다. 각 단계를 클릭하여 상세 내용을 확인하세요.</p>
                    <div class="md:flex md:space-x-8">
                        <div class="md:w-1/3 reveal"><div id="process-steps" class="space-y-2"></div></div>
                        <div class="md:w-2/3 mt-6 md:mt-0 bg-gray-50 p-6 rounded-lg border min-h-[300px] reveal"><div id="process-details"></div></div>
                    </div>
                </div>
            </section>

            <section id="application" class="content-section">
                 <div class="bg-white p-6 rounded-lg shadow-md reveal">
                    <h2 class="text-2xl font-bold mb-1 text-gray-900">고입 원서 작성 가이드</h2>
                    <p class="text-gray-600 mb-6">학교 유형별 원서 작성 방법과 유의사항입니다. 탭을 선택하여 확인하세요.</p>
                    <div class="mb-4 border-b border-gray-200"><nav id="application-tabs" class="-mb-px flex space-x-4" aria-label="Tabs"><button class="tab-button active whitespace-nowrap py-3 px-5 font-medium text-sm rounded-t-lg" data-tab-target="general-hs">교육감 선발 후기고</button><button class="tab-button whitespace-nowrap py-3 px-5 font-medium text-sm rounded-t-lg" data-tab-target="special-hs">특성화고</button></nav></div>
                    <div id="application-content">
                        <div id="general-hs" class="tab-content active"><p class="p-4 bg-blue-50 border-l-4 border-blue-500 text-blue-800 rounded-r-lg mb-6 reveal">교육감 선발 후기고는 <strong>'후기'</strong> 전형으로, 1단계(서울 전지역), 2단계(거주지 학교군)로 나누어 총 4개교를 지망합니다.</p><div id="general-accordion" class="space-y-2 reveal"></div></div>
                        <div id="special-hs" class="tab-content hidden"><p class="p-4 bg-green-50 border-l-4 border-green-500 text-green-800 rounded-r-lg mb-6 reveal">특성화고는 <strong>'전기'</strong> 전형으로, 1개교만 지원 가능합니다. 온라인 제출 후 <strong>'접수 번호'</strong> 생성 여부를 반드시 확인해야 합니다.</p><div id="special-accordion" class="space-y-2 reveal"></div></div>
                    </div>
                </div>
            </section>

            <section id="schedule" class="content-section">
                 <div class="bg-white p-6 rounded-lg shadow-md reveal">
                    <h2 class="text-2xl font-bold mb-1 text-gray-900">2026학년도 고입 전형 주요 일정</h2>
                    <p class="text-gray-600 mb-6">업무 처리에 차질이 없도록 주요 마감일을 반드시 확인하시기 바랍니다.</p>
                    <div class="flex justify-center space-x-2 mb-6 reveal"><button class="schedule-filter-btn bg-gray-200 text-gray-800 py-2 px-4 rounded-full text-sm font-semibold" data-filter="all">전체 일정</button><button class="schedule-filter-btn bg-gray-200 text-gray-800 py-2 px-4 rounded-full text-sm font-semibold" data-filter="성적">성적 관련</button><button class="schedule-filter-btn bg-gray-200 text-gray-800 py-2 px-4 rounded-full text-sm font-semibold" data-filter="원서">원서 관련</button></div>
                    <div class="max-w-3xl mx-auto reveal"><div id="schedule-list" class="space-y-4"></div></div>
                </div>
            </section>

            <section id="faq" class="content-section">
                <div class="bg-white p-6 rounded-lg shadow-md reveal">
                    <h2 class="text-2xl font-bold mb-1 text-gray-900">주요 주의사항 및 FAQ</h2>
                    <p class="text-gray-600 mb-6">원서 작성 시 자주 발생하는 실수와 이중지원 관련 규정입니다.</p>
                    <div class="bg-red-50 border-l-8 border-red-500 text-red-900 p-6 rounded-r-lg reveal">
                        <h3 class="font-bold text-xl mb-4">⚠️ 이중지원 절대 금지 ⚠️</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li>전기고등학교(특성화고, 과학고, 예술고 등)는 <strong>1개교만</strong> 지원할 수 있습니다.</li>
                            <li>자율형 사립고, 외국어고, 국제고 중에서도 <strong>1개교만</strong> 지원 가능합니다.</li>
                            <li><strong>전기고등학교 합격자</strong>는 후기고등학교에 지원할 수 없습니다. (단, 불합격자는 지원 가능)</li>
                            <li>산업수요맞춤형고(마이스터고) 불합격자는 특성화고에 지원할 수 있습니다.</li>
                            <li>자사고/외고/국제고 지원자는 교육감 선발 후기고 2단계에 동시 지원이 가능합니다.</li>
                        </ul>
                    </div>
                    <div class="mt-8 reveal">
                        <h3 class="font-bold text-xl mb-4 text-gray-900">원서 작성 공통 체크리스트</h3>
                        <ul class="space-y-3">
                            <li class="flex items-start"><span class="text-green-500 font-bold mr-2">✓</span><span>학생 및 학부모의 연락 가능한 <strong>휴대전화 번호를 정확하게</strong> 기재했는가? (원서 반려 등 비상연락용)</span></li>
                            <li class="flex items-start"><span class="text-green-500 font-bold mr-2">✓</span><span>원서 내용을 학생, 보호자와 함께 <strong>최종 확인</strong>하였는가?</span></li>
                            <li class="flex items-start"><span class="text-green-500 font-bold mr-2">✓</span><span>출력된 원서에 학생, 보호자 <strong>자필 서명을 받아</strong> 보관하였는가? (졸업 후 5년간 보관)</span></li>
                            <li class="flex items-start"><span class="text-green-500 font-bold mr-2">✓</span><span>특성화고 지원 시 <strong>'제출'</strong> 버튼 클릭 후 <strong>'접수번호'</strong>가 생성되었는지 확인했는가?</span></li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div class="btn-container">
        <a href="#" onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;" class="nav-button-top" role="button">맨 위로 이동</a>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const appData = {
        processSteps: [
            { id: 'step1', title: 'STEP 1. 학생부 선행작업', deadline: '~ 11.14.(금)', details: `<h3 class="text-lg font-bold text-gray-800">학생부 마감</h3><p class="text-sm text-gray-500 mb-4">~ 2025.11.14.(금) 까지</p><ul class="list-disc list-inside space-y-2 text-gray-700"><li><strong>[담임] 출결 마감:</strong> 기준일까지의 출결 상황을 최종 확인하고 마감합니다.</li><li><strong>[담임] 학생부 자료 확인:</strong> 교과 성적, 개인정보(특히 도로명 주소), 학적 변동 사항을 최종 확인합니다.</li><li><strong>[담임] 반별 마감:</strong> [학생부]-[자료검증 및 반마감] 메뉴에서 오류 검증 후 반별 마감을 완료합니다.</li><li><strong>[담당자] 전체 마감:</strong> 모든 반의 마감이 완료되면, 학교 전체 학생부를 최종 마감합니다.</li></ul>` },
            { id: 'step2', title: 'STEP 2. 성적 확인 및 검증', deadline: '11.15.(토) ~ 11.20.(목)', details: `<h3 class="text-lg font-bold text-gray-800">성적 확인 및 검증</h3><p class="text-sm text-gray-500 mb-4">2025.11.15.(토) ~ 11.20.(목)</p><ul class="list-disc list-inside space-y-2 text-gray-700"><li><strong>[총괄] 대상자 확인:</strong> [성적관리(학교)]-[업무처리현황/관리] 메뉴에서 반별 대상자 인원을 확인하고 조기졸업자를 등록합니다.</li><li><strong>[담임] 성적 대조 확인:</strong> [반별고입성적확인] 메뉴에서 학생 개인별 점수가 학생부 기록과 일치하는지 철저히 확인합니다.</li><li class="font-bold text-red-600"><strong>[담임] 학부모 확인서 징구:</strong> '반별고입성적확인서'를 출력하여 학생 및 학부모의 확인 서명을 받습니다. (민원 예방을 위한 필수 절차)</li><li><strong>[총괄] 최종 확인 완료:</strong> 전체 반의 확인이 완료되면 '성적 확인 완료(총괄)' 버튼을 클릭하여 최종 확정합니다. 이 작업이 완료되어야 석차백분율이 자동 산출됩니다.</li></ul>` },
            { id: 'step3', title: 'STEP 3. 원서 작성 및 제출', deadline: '전형별 일정 참고', details: `<h3 class="text-lg font-bold text-gray-800">원서 작성 및 제출</h3><p class="text-sm text-gray-500 mb-4">전형별 접수 기간 상이</p><ul class="list-disc list-inside space-y-2 text-gray-700"><li><strong>[담임] 원서 작성:</strong> 학생의 진로에 맞춰 '전기'(특성화고) 또는 '후기'(일반고) 전형 원서를 작성합니다.</li><li><strong>[담임] 학생/학부모 최종 확인:</strong> 작성된 원서 내용을 학생 및 학부모와 최종 확인하고 서명을 받아 보관합니다(5년).</li><li><strong>[담임/총괄] 원서 검증 및 마감:</strong> 나이스 시스템의 [원서검증/마감] 메뉴를 통해 오류를 확인하고 반별 마감을 진행합니다.</li><li><strong>[총괄] 원서 온라인 제출:</strong> 학교 마감 후, 교육지원청으로 원서접수대장을 온라인 전송합니다.</li></ul>` }
        ],
        applicationGuide: {
            general: [
                { title: '학교 선택 방법 (1, 2단계 지망)', content: '<strong>1단계 (단일학교군):</strong> 서울시 전체 고등학교 중 2개교를 선택합니다.<br><strong>2단계 (일반학교군):</strong> 학생의 주민등록등본 상 실거주지가 속한 학교군 내 고등학교 중 2개교를 선택합니다.' },
                { title: '자사고/외고/국제고 이중 지원자', content: '자사고/외고/국제고에 지원하면서 동시에 일반고 배정을 희망하는 학생은 전형구분을 <strong>\'후기\'</strong>로 선택해야 합니다.<br>1. 원서의 \'자사고/외고/국제고 지원\' 항목에 <strong>체크</strong>합니다.<br>2. 1단계 지망교에 지원하는 자사고/외고/국제고 1개교를 입력합니다.<br>3. 2단계 지망교에 거주지 학교군 내 일반고 2개교를 입력합니다.<br>※ 자사고/외고/국제고에만 지원하고 일반고 배정을 원치 않는 학생은 전형구분을 \'기타진학\'으로 선택합니다.' },
                { title: '특이배정 신청 (쌍둥이, 교직원 자녀 등)', content: '<strong>쌍둥이:</strong> 동일교 또는 타교 배정을 신청할 수 있습니다. 상대 학생의 원서가 시스템에 등록되어 있어야 조회가 가능하므로, 관련 학생이 있는 경우 담임교사 간 사전 소통이 필수적입니다.<br><strong>교직원 자녀:</strong> 부모가 재직 중인 학교를 피해 배정받기를 희망하는 경우 신청합니다.<br><strong>학교폭력/교권침해 분리배정:</strong> 해당 학생은 담임교사가 총괄담당자에게 전달하여 별도 메뉴에서 처리해야 합니다.' }
            ],
            special: [
                { title: '전형 구분 및 지원 원칙', content: '특성화고는 <strong>\'전기\'</strong> 전형에 해당합니다. 모든 전기고(특성화고, 과학고, 예술고, 마이스터고 등)를 통틀어 <strong>단 1개교, 1개 학과만</strong> 지원할 수 있습니다.' },
                { title: '온라인 원서 제출 절차', content: '1. [기본정보등록] 탭에서 전형구분을 <strong>\'전기\'</strong>로 선택합니다.<br>2. [전기(특성화)원서등록] 탭에서 지원 학교, 학과, 전형(일반/특별)을 정확히 입력합니다.<br>3. 모든 정보 입력 후 <strong>\'제출\'</strong> 버튼을 클릭합니다.<br>4. <strong><span class="text-red-600 font-bold">\'접수 번호\'가 생성되었는지 반드시 확인</span></strong>해야 최종적으로 제출이 완료된 것입니다.' },
                { title: '특별전형 불합격 시', content: '동일한 특성화고의 특별전형에 지원했다가 불합격한 경우, 해당 학교의 일반전형에 다시 지원할 수 있습니다. 다른 특성화고의 일반전형 지원도 가능합니다. 단, 마이스터고 불합격자는 특성화고에 지원할 수 있지만, 특성화고 불합격자는 마이스터고에 지원할 수 없습니다.' }
            ]
        },
        scheduleItems: [
            { date: '2025. 11. 14. (금)', event: '학생부 마감 및 성적 산출 기준일', category: '성적', highlight: true },
            { date: '2025. 11. 15. (토) ~ 11. 20. (목)', event: '학교별 성적 확인 기간', category: '성적', highlight: true },
            { date: '2025. 11. 21. (금) ~ 11. 24. (월)', event: '특성화고 특별전형 원서접수', category: '원서', highlight: false },
            { date: '2025. 11. 28. (금) ~ 12. 1. (월)', event: '특성화고 일반전형 원서접수', category: '원서', highlight: false },
            { date: '2025. 12. 3. (수) ~ 12. 5. (금)', event: '교육감 선발 후기고 원서접수', category: '원서', highlight: true },
            { date: '2026. 1. 7. (수)', event: '후기고 합격자 발표', category: '결과', highlight: false },
            { date: '2026. 1. 29. (목)', event: '후기고 배정학교 발표', category: '결과', highlight: false },
        ]
    };

    // Main Navigation
    const navButtons = document.querySelectorAll('.nav-button');
    const contentSections = document.querySelectorAll('.content-section');
    navButtons.forEach(button => {
        button.addEventListener('click', () => {
            const target = button.dataset.target;
            navButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            contentSections.forEach(section => {
                section.id === target ? section.classList.add('active') : section.classList.remove('active');
            });
            // When a tab is clicked, refresh ScrollTrigger
            ScrollTrigger.refresh();
        });
    });

    // Score Chart
    const ctx = document.getElementById('scoreChart').getContext('2d');
    const scoreChart = new Chart(ctx, { type: 'doughnut', data: { labels: ['교과 점수', '출결 점수'], datasets: [{ data: [80, 20], backgroundColor: ['#4A5568', '#A0AEC0'], borderColor: ['#FFFFFF'], borderWidth: 4, hoverOffset: 4 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' }, title: { display: true, text: '내신 성적 배점 구조 (총 100점)' } }, cutout: '60%' } });

    // Score Simulator
    const totalSubjectsInput = document.getElementById('total-subjects');
    const lowestSubjectsInput = document.getElementById('lowest-subjects');
    const absenceDaysInput = document.getElementById('absence-days');
    const resultScoreEl = document.getElementById('result-score');
    const resultSubjectScoreEl = document.getElementById('result-subject-score');
    const resultAttendanceScoreEl = document.getElementById('result-attendance-score');
    function calculateScore() {
        const total = parseInt(totalSubjectsInput.value) || 0;
        const lowest = parseInt(lowestSubjectsInput.value) || 0;
        const absence = parseInt(absenceDaysInput.value) || 0;
        let subjectScore = 0;
        if (total > 0) { subjectScore = (1 - (lowest / total)) * 80; }
        const attendanceScore = 20 - (absence * 0.2);
        const totalScore = subjectScore + attendanceScore;
        resultSubjectScoreEl.textContent = subjectScore.toFixed(3);
        resultAttendanceScoreEl.textContent = attendanceScore.toFixed(1);
        resultScoreEl.textContent = `${totalScore.toFixed(3)} 점`;
    }
    [totalSubjectsInput, lowestSubjectsInput, absenceDaysInput].forEach(input => { input.addEventListener('input', calculateScore); });
    calculateScore();

    // Process Steps
    const stepsContainer = document.getElementById('process-steps');
    const detailsContainer = document.getElementById('process-details');
    appData.processSteps.forEach((step, index) => {
        const stepEl = document.createElement('div');
        stepEl.className = 'step-item p-4 border-l-4 border-gray-300 cursor-pointer hover:bg-gray-100 transition';
        stepEl.innerHTML = `<p class="font-bold text-gray-800">${step.title}</p><p class="text-sm text-gray-500">${step.deadline}</p>`;
        stepEl.addEventListener('click', () => {
            document.querySelectorAll('.step-item').forEach(el => el.classList.remove('active'));
            stepEl.classList.add('active');
            detailsContainer.innerHTML = step.details;
        });
        stepsContainer.appendChild(stepEl);
        if (index === 0) { stepEl.click(); }
    });

    // Application Guide Tabs & Accordions
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');
    tabButtons.forEach(button => {
        button.addEventListener('click', () => {
            const target = button.dataset.tabTarget;
            tabButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            tabContents.forEach(content => {
                content.id === target ? content.classList.remove('hidden') : content.classList.add('hidden');
            });
        });
    });
    function createAccordion(containerId, data) {
        const container = document.getElementById(containerId);
        data.forEach(item => {
            const wrapper = document.createElement('div');
            wrapper.className = 'border rounded-md';
            const header = document.createElement('button');
            header.className = 'w-full flex justify-between items-center p-4 text-left font-semibold hover:bg-gray-50';
            header.innerHTML = `<span>${item.title}</span><span class="transform transition-transform duration-300 text-gray-500 text-xl">+</span>`;
            const content = document.createElement('div');
            content.className = 'accordion-content';
            content.innerHTML = `<div class="p-4 border-t text-gray-700">${item.content}</div>`;
            wrapper.appendChild(header);
            wrapper.appendChild(content);
            container.appendChild(wrapper);
            header.addEventListener('click', () => {
                const isExpanded = content.style.maxHeight && content.style.maxHeight !== '0px';
                document.querySelectorAll(`#${containerId} .accordion-content`).forEach(el => { el.style.maxHeight = '0px'; el.previousElementSibling.querySelector('span:last-child').textContent = '+'; });
                if (!isExpanded) { content.style.maxHeight = content.scrollHeight + 'px'; header.querySelector('span:last-child').textContent = '-'; }
            });
        });
    }
    createAccordion('general-accordion', appData.applicationGuide.general);
    createAccordion('special-accordion', appData.applicationGuide.special);

    // Schedule
    const scheduleList = document.getElementById('schedule-list');
    const filterButtons = document.querySelectorAll('.schedule-filter-btn');
    function renderSchedule(filter = 'all') {
        scheduleList.innerHTML = '';
        const filteredItems = filter === 'all' ? appData.scheduleItems : appData.scheduleItems.filter(item => item.category === filter || (filter === '원서' && item.category === '결과'));
        filteredItems.forEach(item => {
            const itemEl = document.createElement('div');
            const highlightClass = item.highlight ? 'border-gray-700 bg-gray-100' : 'border-gray-200 bg-white';
            const dateHighlightClass = item.highlight ? 'bg-gray-700 text-white' : 'bg-gray-200 text-gray-700';
            itemEl.className = `flex items-center p-4 rounded-lg border-l-4 ${highlightClass} shadow-sm`;
            itemEl.innerHTML = `<div class="text-center mr-4 w-24 flex-shrink-0"><p class="font-bold text-sm md:text-base px-2 py-1 rounded-md ${dateHighlightClass}">${item.date.split('.')[1]}.${item.date.split('.')[2]}</p><p class="text-xs text-gray-500">${item.date.split('.')[0]}</p></div><div class="flex-grow"><p class="font-semibold text-gray-800">${item.event}</p></div>`;
            scheduleList.appendChild(itemEl);
        });
    }
    filterButtons.forEach(button => {
        button.addEventListener('click', () => {
            const filter = button.dataset.filter;
            filterButtons.forEach(btn => { btn.classList.replace('bg-gray-700', 'bg-gray-200'); btn.classList.replace('text-white', 'text-gray-800'); });
            button.classList.replace('bg-gray-200', 'bg-gray-700');
            button.classList.replace('text-gray-800', 'text-white');
            renderSchedule(filter);
        });
    });
    document.querySelector('.schedule-filter-btn[data-filter="all"]').click();

    // --- GSAP & Fullscreen Logic ---
    gsap.registerPlugin(ScrollTrigger);

    // Fullscreen API
    const fullscreenBtn = document.getElementById('fullscreen-btn');
    fullscreenBtn.addEventListener('click', () => {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen();
        } else {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            }
        }
    });

    // Side Navigation
    const sections = document.querySelectorAll('section.content-section');
    const sideNav = document.getElementById('side-nav').querySelector('ul');
    const mainNavButtons = document.querySelectorAll('#main-nav button');

    sections.forEach(section => {
        const navLink = document.createElement('a');
        navLink.href = `#${section.id}`;
        const mainButton = Array.from(mainNavButtons).find(btn => btn.dataset.target === section.id);
        const tooltipText = mainButton ? mainButton.textContent : section.id;
        navLink.setAttribute('data-tooltip', tooltipText);
        sideNav.appendChild(document.createElement('li')).appendChild(navLink);

        ScrollTrigger.create({
            trigger: section,
            start: 'top center',
            end: 'bottom center',
            onToggle: self => {
                if (self.isActive) {
                    document.querySelectorAll('#side-nav a').forEach(a => a.classList.remove('active'));
                    navLink.classList.add('active');
                }
            }
        });
    });
    
    sideNav.addEventListener('click', e => {
        if (e.target.tagName === 'A') {
            e.preventDefault();
            const targetId = e.target.getAttribute('href').substring(1);
            const targetSection = document.getElementById(targetId);
            const mainButton = Array.from(mainNavButtons).find(btn => btn.dataset.target === targetId);
            if (targetSection && mainButton) {
                if (!targetSection.classList.contains('active')) {
                    mainButton.click();
                }
                setTimeout(() => {
                    targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            }
        }
    });

    // Reveal Animations
    gsap.utils.toArray('.reveal').forEach(el => {
        gsap.fromTo(el, 
            { autoAlpha: 0, y: 50 }, 
            { 
                autoAlpha: 1, 
                y: 0,
                duration: 0.8,
                ease: 'power2.out',
                scrollTrigger: {
                    trigger: el,
                    start: 'top 90%',
                    toggleActions: 'play none none none'
                }
            }
        );
    });
});
</script>
</body>
</html>